
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rules &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/default.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Symbolizers" href="symbolizers/index.html" />
    <link rel="prev" title="Feature Styles" href="featurestyles.html" /> 
  </head><body class="styling/ysld/reference/rules">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../../index.html" accesskey="U">Styling</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">YSLD Styling</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">YSLD reference</a> &raquo;</li>
    <li>Rules</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="symbolizers/index.html" title="Symbolizers" accesskey="N">Next</a></li>
  <li>
    <a href="featurestyles.html" title="Feature Styles" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="rules">
<span id="ysld-reference-rules"></span><h1>Rules<a class="headerlink" href="#rules" title="Permalink to this headline">¶</a></h1>
<p>A rule is a <strong>collection of styling directives</strong>, primarily consisting of <a class="reference internal" href="symbolizers/index.html#ysld-reference-symbolizers"><span class="std std-ref">symbolizers</span></a> combined with optional conditional statements.</p>
<ul class="simple">
<li><p><strong>If a conditional statement exists</strong> in a rule, then the styling directives will only be carried out <strong>if the conditional returns true</strong>. Otherwise, the rule will be skipped.</p></li>
<li><p><strong>If no conditional statement exists</strong> in a rule, then the styling directive will <strong>always be carried out</strong>.</p></li>
</ul>
<p>The types of conditional statements available to rules are:</p>
<ul class="simple">
<li><p><a class="reference internal" href="filters.html#ysld-reference-filters"><span class="std std-ref">Filters</span></a> for attribute-based rendering</p></li>
<li><p><a class="reference internal" href="scalezoom.html#ysld-reference-scalezoom"><span class="std std-ref">Scale</span></a> for scale-based rendering</p></li>
</ul>
<p>Rules are contained within <a class="reference internal" href="featurestyles.html#ysld-reference-featurestyles"><span class="std std-ref">feature styles</span></a>. There is no limit on the number of rules that can be created, and there is no restriction that all rules must be mutually exclusive (as in, some rules may apply to the same features).</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<p>The following is the basic syntax of a rule. Note that the contents of the block are not all expanded; see the other sections for the relevant syntax.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rules</span><span class="p">:</span>
<span class="o">-</span> <span class="n">name</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>
  <span class="n">title</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>
  <span class="nb">filter</span><span class="p">:</span> <span class="o">&lt;</span><span class="nb">filter</span><span class="o">&gt;</span>
  <span class="k">else</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">boolean</span><span class="o">&gt;</span>
  <span class="n">scale</span><span class="p">:</span> <span class="p">[</span><span class="o">&lt;</span><span class="nb">min</span><span class="o">&gt;</span><span class="p">,</span><span class="o">&lt;</span><span class="nb">max</span><span class="o">&gt;</span><span class="p">]</span>
  <span class="n">symbolizers</span><span class="p">:</span>
  <span class="o">-</span> <span class="o">...</span>
  <span class="n">x</span><span class="o">-</span><span class="n">inclusion</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">text</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where:</p>
<table class="colwidths-given non-responsive docutils align-default">
<colgroup>
<col style="width: 20%" />
<col style="width: 10%" />
<col style="width: 50%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p>Property</p></th>
<th class="head"><p>Required?</p></th>
<th class="head"><p>Description</p></th>
<th class="head"><p>Default value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">name</span></code></p></th>
<td><p>No</p></td>
<td><p>Internal reference to the feature style. It is recommended that the value be <strong>lower case</strong> and contain <strong>no spaces</strong>.</p></td>
<td><p>Blank</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">title</span></code></p></th>
<td><p>No</p></td>
<td><p>Human-readable description of what the rule accomplishes.</p></td>
<td><p>Blank</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">filter</span></code></p></th>
<td><p>No</p></td>
<td><p><a class="reference internal" href="filters.html#ysld-reference-filters"><span class="std std-ref">Filter</span></a> expression which will need to evaluate to be true for the symbolizer(s) to be applied. Cannot be used with <code class="docutils literal notranslate"><span class="pre">else</span></code>.</p></td>
<td><p>Blank (meaning that the rule will apply to all features)</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">else</span></code></p></th>
<td><p>No</p></td>
<td><p>Specifies whether the rule will be an “else” rule. An else rule applies when, after scale and filters are applied, no other rule applies. To make an else rule, set this option to <code class="docutils literal notranslate"><span class="pre">true</span></code>. Cannot be used with <code class="docutils literal notranslate"><span class="pre">filter</span></code>.</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">scale</span></code></p></th>
<td><p>No</p></td>
<td><p><a class="reference internal" href="scalezoom.html#ysld-reference-scalezoom"><span class="std std-ref">Scale</span></a> boundaries showing at what scales (related to zoom levels) the rule will be applied.</p></td>
<td><p>Visible at all scales</p></td>
</tr>
<tr class="row-odd"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">symbolizers</span></code></p></th>
<td><p>Yes</p></td>
<td><p>Block containing one or more <a class="reference internal" href="symbolizers/index.html#ysld-reference-symbolizers"><span class="std std-ref">symbolizers</span></a>. These contain the actual visualization directives. If the filter returns true and the view is within the scale boundaries, these symbolizers will be drawn.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><th class="stub"><p><code class="docutils literal notranslate"><span class="pre">x-inclusion</span></code></p></th>
<td><p>No</p></td>
<td><p>Define if rule should be included in style for <code class="docutils literal notranslate"><span class="pre">legendOnly</span></code> or <code class="docutils literal notranslate"><span class="pre">mapOnly</span></code> (see <a class="reference internal" href="../../sld/extensions/rendering-selection.html#rendering-selection"><span class="std std-ref">Rendering Selection</span></a>)</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">normal</span></code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="short-syntax">
<h2>Short syntax<a class="headerlink" href="#short-syntax" title="Permalink to this headline">¶</a></h2>
<p>When a style has a single rule inside a single feature style, it is possible to omit the syntax for both and start at the first parameter inside.</p>
<p>So the following complete styles are equivalent:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">feature</span><span class="o">-</span><span class="n">styles</span><span class="p">:</span>
<span class="o">-</span> <span class="n">rules</span><span class="p">:</span>
  <span class="o">-</span> <span class="n">symbolizers</span><span class="p">:</span>
    <span class="o">-</span> <span class="n">line</span><span class="p">:</span>
        <span class="n">stroke</span><span class="o">-</span><span class="n">color</span><span class="p">:</span> <span class="s1">&#39;#000000&#39;</span>
        <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">line</span><span class="p">:</span>
  <span class="n">stroke</span><span class="o">-</span><span class="n">color</span><span class="p">:</span> <span class="s1">&#39;#000000&#39;</span>
  <span class="n">stroke</span><span class="o">-</span><span class="n">width</span><span class="p">:</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="else-filter">
<h3>Else filter<a class="headerlink" href="#else-filter" title="Permalink to this headline">¶</a></h3>
<p>Using <code class="docutils literal notranslate"><span class="pre">filter</span></code> and <code class="docutils literal notranslate"><span class="pre">else</span></code> together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>rules:
- name: small
  title: Small features
  filter: ${type = &#39;small&#39;}
  symbolizers:
  - ...
- name: large
  title: Large features
  filter: ${type = &#39;large&#39;}
  symbolizers:
  - ...
- name: else
  title: All other features
  else: true
  symbolizers:
  - ...
</pre></div>
</div>
<p>In the above situation:</p>
<ul class="simple">
<li><p>If a feature has a value of “small” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, it will be styled with the “small” rule.</p></li>
<li><p>If a feature has a value of “large” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, it will be styled with the “large” rule.</p></li>
<li><p>If a feature has a value of “medium” (or anything else) in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, it will be styled with the “else” rule.</p></li>
</ul>
</div>
<div class="section" id="else-with-scale">
<h3>Else with scale<a class="headerlink" href="#else-with-scale" title="Permalink to this headline">¶</a></h3>
<p>Using <code class="docutils literal notranslate"><span class="pre">filter</span></code>, <code class="docutils literal notranslate"><span class="pre">else</span></code>, and <code class="docutils literal notranslate"><span class="pre">scale</span></code> together:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>rules:
- name: small_zoomin
  scale: [min,10000]
  title: Small features when zoomed in
  filter: ${type = &#39;small&#39;}
  symbolizers:
  - ...
- name: small_zoomout
  scale: [10000,max]
  title: Small features when zoomed out
  filter: ${type = &#39;small&#39;}
  symbolizers:
  - ...
- name: else_zoomin
  scale: [min,10000]
  title: All other features when zoomed in
  else: true
  symbolizers:
  - ...
- name: else_zoomout
  scale: [10000,max]
  title: All other features when zoomed out
  else: true
  symbolizers:
  - ...
</pre></div>
</div>
<p>In the above situation:</p>
<ul class="simple">
<li><p>If a feature has a value of “small” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, and the map is a scale level less than 10,000, it will be styled with the “small_zoomin” rule.</p></li>
<li><p>If a feature has a value of anything else other than “small” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, and the map is a scale level less than 10,000, it will be styled with the “else_zoomin” rule.</p></li>
<li><p>If a feature has a value of “small” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, and the map is a scale level greater than 10,000, it will be styled with the “small_zoomout” rule.</p></li>
<li><p>If a feature has a value of anything else other than “small” in its <code class="docutils literal notranslate"><span class="pre">type</span></code> attribute, and the map is a scale level greater than 10,000, it will be styled with the “else_zoomout” rule.</p></li>
</ul>
</div>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="featurestyles.html" title="previous chapter">Feature Styles</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="symbolizers/index.html" title="next chapter">Symbolizers</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">Rules</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#short-syntax">Short syntax</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#else-filter">Else filter</a></li>
<li><a class="reference internal" href="#else-with-scale">Else with scale</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="featurestyles.html" title="previous chapter">Feature Styles</a></li>
            <li>Next: <a href="symbolizers/index.html" title="next chapter">Symbolizers</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/styling/ysld/reference/rules.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>