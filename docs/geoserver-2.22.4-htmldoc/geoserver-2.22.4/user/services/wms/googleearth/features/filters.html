
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Filters &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/default.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/jquery.js"></script>
    <script src="../../../../_static/underscore.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="KML Super-Overlays" href="kmlsuperoverlays.html" />
    <link rel="prev" title="KML Legends" href="kmllegends.html" /> 
  </head><body class="services/wms/googleearth/features/filters">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../../../index.html" accesskey="U">Services</a> &raquo;</li>
        <li><a href="../../index.html" accesskey="U">Web Map Service (WMS)</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">Google Earth</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">Features</a> &raquo;</li>
    <li>Filters</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="kmlsuperoverlays.html" title="KML Super-Overlays" accesskey="N">Next</a></li>
  <li>
    <a href="kmllegends.html" title="KML Legends" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="filters">
<span id="ge-feature-filters"></span><h1>Filters<a class="headerlink" href="#filters" title="Permalink to this headline">¶</a></h1>
<p>Though not specific to Google Earth, GeoServer has the ability to filter data returned from the <a class="reference internal" href="../../index.html#wms"><span class="std std-ref">Web Map Service (WMS)</span></a>. The KML Reflector will pass through any WMS <code class="docutils literal notranslate"><span class="pre">filter</span></code> or <code class="docutils literal notranslate"><span class="pre">cql_filter</span></code> parameter to GeoServer to constrain the response.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Filters are basically a translation of a SQL “WHERE” statement into web form.  Though limited to a single table, this allows users to do logical filters like “AND” and “OR” to make very complex queries, leveraging numerical and string comparisons, geometric operations (“bbox”, “touches”, “intersects”, “disjoint”), “LIKE” statements, nulls, and more.</p>
</div>
<div class="section" id="filter">
<h2>Filter<a class="headerlink" href="#filter" title="Permalink to this headline">¶</a></h2>
<p>There simplest filter is very easy to include. It is called the <code class="docutils literal notranslate"><span class="pre">featureid</span></code> filter, and it lets you filter to a single feature by its ID.  The syntax is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">featureid</span><span class="o">=&lt;</span><span class="n">feature</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>where &lt;feature&gt; is the feature and its ID.  An example would be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost:8080/geoserver/wms/kml?layers=topp:states&amp;featureid=states.5
</pre></div>
</div>
<p>This request will output only the state of Maryland. The feature IDs of your data are most easily found by doing WFS or KML requests and examining the resulting output.</p>
</div>
<div class="section" id="cql-filter">
<h2>CQL Filter<a class="headerlink" href="#cql-filter" title="Permalink to this headline">¶</a></h2>
<p>Using filters in a URL can be very unwieldy, as one needs to include URL-encoded XML:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http:/localhost:8080/geoserver/wms/kml?layers=topp:states&amp;FILTER=%3CFilter%3E%3CPropertyIsBetween%3E%3CPropertyName%3Etopp:LAND_KM%3C/PropertyName%3E%3CLowerBoundary%3E%3CLiteral%3E100000%3C/Literal%3E%3C/LowerBoundary%3E%3CUpperBoundary%3E%3CLiteral%3E150000%3C/Literal%3E%3C/UpperBoundary%3E%3C/PropertyIsBetween%3E%3C/Filter%3E
</pre></div>
</div>
<p>Instead, one can use Common Query Language (CQL), which allows one to specify the same statement more succinctly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>http://localhost:8080/geoserver/wms/kml?layers=topp:states&amp;CQL_FILTER=LAND_KM+BETWEEN+100000+AND+150000
</pre></div>
</div>
<p>This query will return all the states in the US with areas between 100,000 and 150,000 km^2.</p>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="kmllegends.html" title="previous chapter">KML Legends</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="kmlsuperoverlays.html" title="next chapter">KML Super-Overlays</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">Filters</a><ul>
<li><a class="reference internal" href="#filter">Filter</a></li>
<li><a class="reference internal" href="#cql-filter">CQL Filter</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="kmllegends.html" title="previous chapter">KML Legends</a></li>
            <li>Next: <a href="kmlsuperoverlays.html" title="next chapter">KML Super-Overlays</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/services/wms/googleearth/features/filters.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>