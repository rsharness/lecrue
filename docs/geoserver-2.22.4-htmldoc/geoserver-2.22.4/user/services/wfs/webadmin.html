
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WFS settings &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="WFS basics" href="basics.html" />
    <link rel="prev" title="Web Feature Service (WFS)" href="index.html" /> 
  </head><body class="services/wfs/webadmin">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">Services</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">Web Feature Service (WFS)</a> &raquo;</li>
    <li>WFS settings</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="basics.html" title="WFS basics" accesskey="N">Next</a></li>
  <li>
    <a href="index.html" title="Web Feature Service (WFS)" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="wfs-settings">
<span id="services-webadmin-wfs"></span><h1>WFS settings<a class="headerlink" href="#wfs-settings" title="Permalink to this headline">¶</a></h1>
<p>This page details the configuration options for WFS in the web administration interface.</p>
<div class="section" id="workspace">
<h2>Workspace<a class="headerlink" href="#workspace" title="Permalink to this headline">¶</a></h2>
<p>Select <span class="guilabel">workspace</span> empty to configure global WFS settings.</p>
<p>See the section on <a class="reference internal" href="../../data/webadmin/workspaces.html#workspace-services"><span class="std std-ref">Workspace Services</span></a> to override settings used by WFS <a class="reference internal" href="../../configuration/virtual-services.html#virtual-services"><span class="std std-ref">Virtual Services</span></a>.</p>
</div>
<div class="section" id="service-metadata">
<h2>Service Metadata<a class="headerlink" href="#service-metadata" title="Permalink to this headline">¶</a></h2>
<p>For a description of WFS service options, see the section on <a class="reference internal" href="../../configuration/service-metadata/index.html#service-metadata"><span class="std std-ref">Service Metadata</span></a>.</p>
</div>
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id1">
<img alt="../../_images/services_WFS_features.png" src="../../_images/services_WFS_features.png" />
<p class="caption"><span class="caption-text">WFS configuration options - Features section</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The <a class="reference external" href="http://www.opengeospatial.org/">Open Geospatial Consortium</a> (OGC) Web Feature Service (WFS) is a protocol for serving geographic features across the Web. Feature information that is encoded and transported using WFS includes both feature geometry and feature attribute values. Basic Web Feature Service (WFS) supports feature query and retrieval. Feature limits and bounding can be configured on the WFS page.</p>
<p><strong>Maximum number of features</strong> — Maximum number of features that a WFS GetFeature operation should generate, regardless of the actual number of query hits. A WFS request can potentially contain a large dataset that is impractical to download to a client, and/or too large for a client’s renderer. Maximum feature limits are also available for feature types. The default number is 1000000.</p>
<p><strong>Maximum number of features for preview (Values &lt;= 0 use the maximum number of features)</strong> - Maximum number of features to use for layer previews. The default is 50 features.</p>
<p><strong>Return bounding box with every feature</strong> — When creating the GetFeature GML output, adds an auto-calculated bounds element on each feature type. Not typically enabled, as including bounding box takes up extra bandwidth.</p>
<p><strong>Ignore maximum number of features when calculating hits</strong> - When calculating the total number of hits, ignore the Maximum number of features setting. This can be used to get the count of matching features, even if they would not be made available for download because they exceed the maximum count specified. On very large data sets, this can slow down the response.</p>
<p><strong>Activate complex to simple features conversion</strong> - Enables the conversion of complex features to simple features, using only SF-0 (simple) attributes for compatible output formats like CSV, KML, SHAPE-ZIP.</p>
</div>
<div class="section" id="service-levels">
<h2>Service Levels<a class="headerlink" href="#service-levels" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id2">
<img alt="../../_images/services_WFS_servicelevel.png" src="../../_images/services_WFS_servicelevel.png" />
<p class="caption"><span class="caption-text">WFS configuration options - Service Level section</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>GeoServer is compliant with the full “Transactional Web Feature Server” (WFS-T) level of service as defined by the OGC. Specifying the WFS service level limits the capabilities of GeoServer while still remaining compliant. The WFS Service Level setting defines what WFS operations are “turned on”.</p>
<p><strong>Basic</strong> — Basic service levels provides facilities for searching and retrieving feature data with the GetCapabilities, DescribeFeatureType and GetFeature operations. It is compliant with the OGC basic Web Feature Service. This is considered a READ-ONLY web feature service.</p>
<p><strong>Transactional</strong> — In addition to all basic WFS operations, transactional service level supports transaction requests. A transaction request facilitates the creation, deletion, and updating of geographic features in conformance with the OGC Transactional Web Feature Service (WFS-T).</p>
<p><strong>Complete</strong> — Includes LockFeature support to the suite of transactional level operations. LockFeature operations help resolve links between related resources by processing lock requests on one or more instances of a feature type.</p>
</div>
<div class="section" id="extra-srs-codes-for-wfs-capabilities-generation">
<h2>Extra SRS codes for WFS capabilities generation<a class="headerlink" href="#extra-srs-codes-for-wfs-capabilities-generation" title="Permalink to this headline">¶</a></h2>
<p>WFS 1.1.0 onwards adds the ability to reproject GetFeature output to a user specified target SRS. The list of applicable target SRS is defined on a feature type basis in the capabilities documents, and GeoServer allows reprojection to any supported SRS in its internal database. To declare that GeoServer would have to add 5000+ <code class="docutils literal notranslate"><span class="pre">otherSRS/otherCRS</span></code> elements per feature type, which is clearly impractical. As a result, no declaration is made by default.</p>
<p>A list of values to be declared in all feature types can be provided in the WFS administration panel, as a comma separated list of EPSG codes:</p>
<div class="figure align-default" id="id3">
<img alt="../../_images/services_WFS_othersrs.png" src="../../_images/services_WFS_othersrs.png" />
<p class="caption"><span class="caption-text">WFS otherSRS/otherCRS configuration</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>The list will be used only for the capabilities document generation. It does not limit the actual target SRS usage in GetFeature requests.</p>
</div>
<div class="section" id="configuration-of-output-format-types-allowed-in-getfeature">
<h2>Configuration of Output Format types allowed in GetFeature<a class="headerlink" href="#configuration-of-output-format-types-allowed-in-getfeature" title="Permalink to this headline">¶</a></h2>
<p>Checking the <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">Output</span> <span class="pre">Format</span> <span class="pre">type</span> <span class="pre">checking</span></code> checkbox will enable restrictions on the available output formats for GetFeature requests.  It will also limit what Output Format types will be displayed as available in GetCapabilities responses. GetFeature requests with Output types not included in the <code class="docutils literal notranslate"><span class="pre">Allowed</span> <span class="pre">Output</span> <span class="pre">types</span></code> panel will result in an <code class="docutils literal notranslate"><span class="pre">Invalid</span> <span class="pre">Parameter</span> <span class="pre">ServiceException</span></code> response.</p>
<p>Note that if the Allowed Output Types panel is left as empty and the <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">Output</span> <span class="pre">Format</span> <span class="pre">Type</span> <span class="pre">checking</span></code> is checked, all Output types will be restricted.</p>
<div class="figure align-default" id="id4">
<img alt="../../_images/services_WFS_outputformat.png" src="../../_images/services_WFS_outputformat.png" />
<p class="caption"><span class="caption-text">Output Format types configuration</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="gml">
<h2>GML<a class="headerlink" href="#gml" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id5">
<img alt="../../_images/services_WFS_srsstyle.png" src="../../_images/services_WFS_srsstyle.png" />
<p class="caption"><span class="caption-text">WFS configuration options - GML sections</span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
<p>Geography Markup Language (GML) is the XML-based specification defined by the Open Geospatial Consortium (OGC) to express geographical features. GML serves as a modeling language for geographic systems as well as an open interchange format for geographic transactions on the Internet.</p>
<p>The older GML standard, <a class="reference external" href="http://portal.opengeospatial.org/files/?artifact_id=11339">GML 2</a> encodes geographic information, including both spatial and non-spatial properties. GML3 extends GML2 support to 3D shapes (surfaces and solids) as well as other advanced facilities. GML 3 is a modular superset of GML 2 that simplifies and minimizes the implementation size by allowing users to select out necessary parts. Additions in GML 3 include support for complex geometries, spatial and temporal reference systems, topology, units of measure, metadata, gridded data, and default styles for feature and coverage visualization. GML 3 is almost entirely backwards compatible with GML 2.</p>
<p>WFS 2.0.0 request return GML 3.2 as the default format, WFS 1.1.0 requests return GML 3 as the default format, and WFS 1.0.0 requests return GML 2 as the default format. For each of the GML formats supported by GeoServer, a different SRS format can be selected.</p>
<p><strong>EPSG Code</strong> — Returns the typical EPSG number in the form <code class="docutils literal notranslate"><span class="pre">EPSG:XXXX</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>). This formats the geographic coordinates in longitude/latitude (x/y) order.</p>
<p><strong>OGC HTTP URL</strong> — Returns a URL that identifies each EPSG code: <code class="docutils literal notranslate"><span class="pre">http://www.opengis.net/gml/srs/epsg.xml#XXXX</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">http://www.opengis.net/gml/srs/epsg.xml#4326</span></code>). This formats the geographic coordinates in longitude/latitude (x/y) order.  This format is the default GML 2 SRS convention.</p>
<p><strong>OGC Experimental URN</strong> - Returns a URN that identifies each EPSG code: <code class="docutils literal notranslate"><span class="pre">urn:x-ogc:def:crs:EPSG:XXXX</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">urn:x-ogc:def:crs:EPSG:4326</span></code>). This format was the original GML 3 SRS convention.</p>
<p><strong>OGC URN</strong> — (WFS 1.1.1 only) Returns the colon delimited SRS formatting: <code class="docutils literal notranslate"><span class="pre">urn:ogc:def:crs:EPSG::XXXX</span></code> (e.g <code class="docutils literal notranslate"><span class="pre">urn:ogc:def:crs:EPSG::4326</span></code>). This is the revised GML 3 SRS convention, and is the default for GML 3.2. This formats data in the traditional axis order for geographic and cartographic systems—latitude/longitude (y/x).</p>
<p><strong>OGC HTTP URI</strong> - Returns a URI that identifies each EPSG code: <code class="docutils literal notranslate"><span class="pre">http://www.opengis.net/def/crs/EPSG/0/XXXX</span></code> (e.g. <code class="docutils literal notranslate"><span class="pre">http://www.opengis.net/def/crs/EPSG/0/4326</span></code>).</p>
<p>For each GML type, there is also an “Override GML Attributes” checkbox. Selecting this (checking the checkbox) will cause attributes to be redefined in the application schema.</p>
<div class="section" id="override-gml-3-2-mime-type">
<h3>Override GML 3.2 MIME type<a class="headerlink" href="#override-gml-3-2-mime-type" title="Permalink to this headline">¶</a></h3>
<p>The default MIME used for GML 3.2 encoded responses is <code class="docutils literal notranslate"><span class="pre">application/gml+xml;</span> <span class="pre">version=3.2</span></code> which is the MIME type mandated by OGC WFS 2.0 specification. This MIME type is not identified as XML by most common clients such as browsers.</p>
<p>Option <span class="guilabel">Override MIME Type</span> allows the selection of the MIME type that should be used for the responses encoded in GML 3.2.</p>
<div class="figure align-default">
<img alt="../../_images/services_WFS_mimetype.png" src="../../_images/services_WFS_mimetype.png" />
</div>
<p>The available MIME types are: <code class="docutils literal notranslate"><span class="pre">application/gml+xml;</span> <span class="pre">version=3.2</span></code>, <code class="docutils literal notranslate"><span class="pre">text/xml;</span> <span class="pre">subtype=gml/3.2</span></code> and <code class="docutils literal notranslate"><span class="pre">text/xml</span></code>.</p>
</div>
<div class="section" id="configure-xml-entity-expansion-limit-on-wfs-xml-readers">
<h3>Configure XML Entity Expansion limit on WFS XML readers<a class="headerlink" href="#configure-xml-entity-expansion-limit-on-wfs-xml-readers" title="Permalink to this headline">¶</a></h3>
<p>By default, the WFS XML reader sets Entity Expansion limit to <code class="docutils literal notranslate"><span class="pre">100</span></code>, but it can be configured via the <code class="docutils literal notranslate"><span class="pre">org.geoserver.wfs.xml.entityExpansionLimit</span></code> system property, or using the <code class="file docutils literal notranslate"><span class="pre">web.xml</span></code> init parameter, or by Environment variable.</p>
<p>For example, using the command line the limit can be adjusted using a parameter:</p>
<blockquote>
<div><p>-Dorg.geoserver.wfs.xml.entityExpansionLimit=50</p>
</div></blockquote>
<p>Or in Tomcat properties file (<code class="docutils literal notranslate"><span class="pre">{TOMCAT_HOME}/conf/catalina.properties</span></code>) adding the line:</p>
<blockquote>
<div><p>org.geoserver.wfs.xml.entityExpansionLimit=50</p>
</div></blockquote>
</div>
</div>
<div class="section" id="conformance">
<h2>Conformance<a class="headerlink" href="#conformance" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id6">
<img alt="../../_images/services_WFS_conformance.png" src="../../_images/services_WFS_conformance.png" />
<p class="caption"><span class="caption-text">WFS configuration options - Conformance section</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>Selecting the <span class="guilabel">Encode canonical WFS schema location</span> checkbox modifies the WFS responses to include the canonical schema locations in the <code class="docutils literal notranslate"><span class="pre">xsi:schemaLocation</span></code> attribute, instead of
using the default schema locations on the local GeoServer. Note that turning this option on may result in the client not being able to validate the WFS response, depending on network
configuration.</p>
</div>
<div class="section" id="encode-response-with">
<h2>Encode response with<a class="headerlink" href="#encode-response-with" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id7">
<img alt="../../_images/services_WFS_featureMembers.png" src="../../_images/services_WFS_featureMembers.png" />
<p class="caption"><span class="caption-text">WFS configuration options - Encode response with</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>The <span class="guilabel">Encode response with</span> radio button group has two selection - <span class="guilabel">One “featureMembers” element</span> (the default) or <span class="guilabel">Multiple “featureMember” elements</span>. This switches the WFS 1.1.0 encoding accordingly. Use of multiple <code class="docutils literal notranslate"><span class="pre">featureMember</span></code> elements may be required for Application Schema referencing.</p>
</div>
<div class="section" id="shape-zip-output-format">
<h2>SHAPE-ZIP output format<a class="headerlink" href="#shape-zip-output-format" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default" id="id8">
<img alt="../../_images/services_WFS_shapezipprojection.png" src="../../_images/services_WFS_shapezipprojection.png" />
<p class="caption"><span class="caption-text">WFS configuration options - Encode response with</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Selecting the <span class="guilabel">Use ESRI WKT format for SHAPE-ZIP generated .prj files</span> checkbox modifies how projections are encoded in the Shapefile zip output format. If this checkbox
is not selected, OGC WKT format will be used. If this checkbox is selected, ESRI WKT format will be used.</p>
<p>Note: this requires an <code class="docutils literal notranslate"><span class="pre">esri.properties</span></code> file to be provided in the <code class="docutils literal notranslate"><span class="pre">user_projections</span></code> subdirectory of the GeoServer data directory. This may be obtained from the GeoTools EPSG extension.</p>
<p>Selecting the <span class="guilabel">Include WFS request dump file</span> checkbox specifies if the file ‘wfsrequest.txt’ will be included in the Shapefile zip output. ‘wfsrequest.txt’ contains a dump of the full request URL used to get the Shapefile zip output.  If this checkbox is not selected, ‘wfsrequest.txt’ will not be included in the output. If this checkbox is selected, ‘wfsrequest.txt’ will be included in the output.</p>
</div>
<div class="section" id="stored-queries">
<h2>Stored Queries<a class="headerlink" href="#stored-queries" title="Permalink to this headline">¶</a></h2>
<div class="figure align-default">
<img alt="../../_images/global-queries.png" src="../../_images/global-queries.png" />
</div>
<p>Selecting the <span class="guilabel">Allow Global Stored Queries</span> checkbox determines if global stored queries will included for usage in workspace virtual services, or not. When disabled, only stored queries created inside the workspace will be visible.</p>
</div>
<div class="section" id="i18n-settings">
<h2>i18n Settings<a class="headerlink" href="#i18n-settings" title="Permalink to this headline">¶</a></h2>
<p>Select default language for WFS Service.</p>
<div class="figure align-default" id="id9">
<img alt="../../_images/i18n_default_language1.png" src="../../_images/i18n_default_language1.png" />
<p class="caption"><span class="caption-text">Default language</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>See <a class="reference internal" href="../../configuration/internationalization/index.html#internationalization"><span class="std std-ref">Internationalization (i18n)</span></a> section for a how this setting is used.</p>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="index.html" title="previous chapter">Web Feature Service (WFS)</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="basics.html" title="next chapter">WFS basics</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">WFS settings</a><ul>
<li><a class="reference internal" href="#workspace">Workspace</a></li>
<li><a class="reference internal" href="#service-metadata">Service Metadata</a></li>
<li><a class="reference internal" href="#features">Features</a></li>
<li><a class="reference internal" href="#service-levels">Service Levels</a></li>
<li><a class="reference internal" href="#extra-srs-codes-for-wfs-capabilities-generation">Extra SRS codes for WFS capabilities generation</a></li>
<li><a class="reference internal" href="#configuration-of-output-format-types-allowed-in-getfeature">Configuration of Output Format types allowed in GetFeature</a></li>
<li><a class="reference internal" href="#gml">GML</a><ul>
<li><a class="reference internal" href="#override-gml-3-2-mime-type">Override GML 3.2 MIME type</a></li>
<li><a class="reference internal" href="#configure-xml-entity-expansion-limit-on-wfs-xml-readers">Configure XML Entity Expansion limit on WFS XML readers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#conformance">Conformance</a></li>
<li><a class="reference internal" href="#encode-response-with">Encode response with</a></li>
<li><a class="reference internal" href="#shape-zip-output-format">SHAPE-ZIP output format</a></li>
<li><a class="reference internal" href="#stored-queries">Stored Queries</a></li>
<li><a class="reference internal" href="#i18n-settings">i18n Settings</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="index.html" title="previous chapter">Web Feature Service (WFS)</a></li>
            <li>Next: <a href="basics.html" title="next chapter">WFS basics</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/services/wfs/webadmin.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>