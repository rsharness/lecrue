
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>JDBCStore configuration &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="JMS based Clustering" href="../jms-cluster/index.html" />
    <link rel="prev" title="Installing JDBCStore" href="installing.html" /> 
  </head><body class="community/jdbcstore/configuration">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">Community modules</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">JDBCStore</a> &raquo;</li>
    <li>JDBCStore configuration</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="../jms-cluster/index.html" title="JMS based Clustering" accesskey="N">Next</a></li>
  <li>
    <a href="installing.html" title="Installing JDBCStore" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="jdbcstore-configuration">
<span id="community-jdbcstore-config"></span><h1>JDBCStore configuration<a class="headerlink" href="#jdbcstore-configuration" title="Permalink to this headline">¶</a></h1>
<p>The JDBCStore module is configured in the file <code class="docutils literal notranslate"><span class="pre">jdbcstore/jdbcstore.properties</span></code> inside the <a class="reference internal" href="../../datadirectory/index.html#datadir"><span class="std std-ref">GeoServer data directory</span></a>.
The following properties may be set:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">enabled</span></code>: Use JDBCStore.  Turn off to use the data directory for all configuration instead.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initdb</span></code>: Initialize an empty database if this is set on true.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">import</span></code> : The import configuration option tells GeoServer whether to import the current <a class="reference internal" href="../../datadirectory/index.html#datadir"><span class="std std-ref">GeoServer data directory</span></a> from the file system to the database or not. If set to true, it will be imported and the config option will be set the value ‘false’ for the next start up to avoid trying to re-import the catalog  configuration.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">initScript</span></code>: Path to initialisation script .sql file. Only used if <code class="docutils literal notranslate"><span class="pre">initdb</span></code> is true.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ignoreDirs</span></code>: specify all subdirectories of the <a class="reference internal" href="../../datadirectory/index.html#datadir"><span class="std std-ref">GeoServer data directory</span></a> that should be ignored by the JDBCStore, in a comma-separate list. These subdirectories will not be imported and while JDBCStore is running, all access to these subdirectories and their contents will be redirected to the default file system store. This is usually done with the <code class="docutils literal notranslate"><span class="pre">data</span></code> directory (which holds data rather than metadata such as images and shapefiles), temporary directories (which are not used for permanent storage) and the catalog directories (when using JDBCConfig, these are unused anyway and they need not be copied into the JDBCStore).</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cachedDirs</span></code>: specify all subdirectories of the <a class="reference internal" href="../../datadirectory/index.html#datadir"><span class="std std-ref">GeoServer data directory</span></a> that should be automatically cached on the file system by the JDBCStore, in a comma-separate list. These subdirectories will be stored in the database, but an up-to-date copy will be stored on the hard drive at all times. This is handy for files that are used by tools that do not support jdbcstore (such as <a class="reference internal" href="../../data/app-schema/index.html#app-schema"><span class="std std-ref">Application Schemas</span></a> for example) but still need to be synced between nodes.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">deleteDestinationOnRename</span></code>: allow automatic overwriting of existing destinations on move and rename operations (linux-style versus windows-style - the default store is platform dependant).</p></li>
</ul>
<div class="section" id="jndi">
<h2>JNDI<a class="headerlink" href="#jndi" title="Permalink to this headline">¶</a></h2>
<p>Get the database connection from the application server via JNDI lookup.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jndiName</span></code>: The JNDI name for the data source. Only set this if you want to use JNDI, the JDBC configuration properties may still be set for in case the JNDI Lookup fails.</p></li>
</ul>
</div>
<div class="section" id="direct-jdbc-connection">
<h2>Direct JDBC Connection<a class="headerlink" href="#direct-jdbc-connection" title="Permalink to this headline">¶</a></h2>
<p>Provide the connection parameters directly in the configuration file. This includes the password in the clear which is a potential security risk.  To avoid this use JNDI instead.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">jdbcUrl</span></code>: JDBC direct connection parameters.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">username</span></code>: JDBC connection username.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">password</span></code>: JDBC connection password.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.minIdle</span></code>: minimum connections in pool</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.maxActive</span></code>:  maximum connections in pool</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.poolPreparedStatements</span></code>: whether to pool prepared statements</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.maxOpenPreparedStatements</span></code>: size of prepared statement cache, only used if <code class="docutils literal notranslate"><span class="pre">pool.poolPreparedStatements</span></code> is true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.testOnBorrow</span></code>: whether to validate connections when obtaining from the pool</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.validationQuery</span></code>: validation query for connections from pool, must be set when <code class="docutils literal notranslate"><span class="pre">pool.testOnBorrow</span></code> is true</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.testWhileIdle</span></code>: whether to validate idle connections, used in conjunction with the idle timer below</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">pool.setTimeBetweenEvictionRunsMillis</span></code>: period in millseconds for the idle object evictor, -1 to disable</p></li>
</ul>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="installing.html" title="previous chapter">Installing JDBCStore</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="../jms-cluster/index.html" title="next chapter">JMS based Clustering</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">JDBCStore configuration</a><ul>
<li><a class="reference internal" href="#jndi">JNDI</a></li>
<li><a class="reference internal" href="#direct-jdbc-connection">Direct JDBC Connection</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="installing.html" title="previous chapter">Installing JDBCStore</a></li>
            <li>Next: <a href="../jms-cluster/index.html" title="next chapter">JMS based Clustering</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/community/jdbcstore/configuration.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>