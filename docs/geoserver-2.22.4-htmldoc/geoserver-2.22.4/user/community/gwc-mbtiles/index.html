
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GWC MBTiles layer plugin &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="GWC SQLite Plugin" href="../gwc-sqlite/index.html" />
    <link rel="prev" title="GWC Distributed Caching community module" href="../gwc-distributed/index.html" /> 
  </head><body class="community/gwc-mbtiles/index">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">Community modules</a> &raquo;</li>
    <li>GWC MBTiles layer plugin</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="../gwc-sqlite/index.html" title="GWC SQLite Plugin" accesskey="N">Next</a></li>
  <li>
    <a href="../gwc-distributed/index.html" title="GWC Distributed Caching community module" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="gwc-mbtiles-layer-plugin">
<span id="community-gwc-mbtiles"></span><h1>GWC MBTiles layer plugin<a class="headerlink" href="#gwc-mbtiles-layer-plugin" title="Permalink to this headline">¶</a></h1>
<p>This plugin allows adding a GWC MBTiles Layer to GeoServer’s cached Tile Layers configuration so that GeoServer can load cached tiles from ready-to-use MBTiles.</p>
<div class="section" id="installation">
<h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<p>As a community module, make sure you have downloaded the <a class="reference external" href="http://sourceforge.net/projects/geoserver/files/GeoServer/2.22.4/extensions/geoserver-2.22.4-gwc-mbtiles-plugin.zip">geoserver-2.22.4-gwc-mbtiles-plugin.zip</a></p>
<p>To install the module, unpack the zip file contents into the GeoServer <code class="docutils literal notranslate"><span class="pre">WEB-INF/lib</span></code> directory and restart GeoServer.</p>
</div>
<div class="section" id="configuring-a-mbtileslayer">
<h2>Configuring a MBTilesLayer<a class="headerlink" href="#configuring-a-mbtileslayer" title="Permalink to this headline">¶</a></h2>
<p>The configuration of a new MBTilesLayer can be done by editing the geowebcache configuration file located in <code class="file docutils literal notranslate"><span class="pre">&lt;data_dir&gt;/gwc/geowebcache.xml</span></code></p>
<p>Locate the <cite>layers</cite> section of the config or add it if missing.</p>
<p>Then define a new <cite>mbTilesLayer</cite> node for each new MBTilesLayer you want to add. A GWC configuration containing a configured MBTiles Layer would look like this:</p>
<div class="highlight-xml notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;gwcConfiguration&gt;</span>
  <span class="c">&lt;!-- ... --&gt;</span>
  <span class="nt">&lt;layers&gt;</span>
    <span class="c">&lt;!-- Other layer definitions may be here --&gt;</span>
    <span class="nt">&lt;mbtilesLayer&gt;</span>
      <span class="nt">&lt;tilesPath&gt;</span>D:\Data\mbtiles\countries-raster.mbtiles<span class="nt">&lt;/tilesPath&gt;</span>
      <span class="nt">&lt;tileSize&gt;</span>256<span class="nt">&lt;/tileSize&gt;</span>
      <span class="nt">&lt;name&gt;</span>countries<span class="nt">&lt;/name&gt;</span>
      <span class="nt">&lt;metaInformation&gt;</span>
        <span class="nt">&lt;title&gt;</span>Countries<span class="nt">&lt;/title&gt;</span>
        <span class="nt">&lt;description&gt;</span>Raster Layer with Countries<span class="nt">&lt;/description&gt;</span>
      <span class="nt">&lt;/metaInformation&gt;</span>
    <span class="nt">&lt;/mbtilesLayer&gt;</span>
    <span class="c">&lt;!-- Other layer definitions may be here --&gt;</span>
  <span class="nt">&lt;/layers&gt;</span>
<span class="nt">&lt;/gwcConfiguration&gt;</span>
</pre></div>
</div>
<p>A few note on the above configuration elements of an mbtilesLayer definition:</p>
<ul class="simple">
<li><p><cite>tilesPath</cite> (mandatory) is the path to the MBTiles file containing the tiles.</p></li>
<li><p><cite>tileSize</cite> is the size of the tiles stored on the MBTiles file. When not set, it will be defaulted to 256.</p></li>
<li><p><cite>name</cite> (optional) represents the name to be assigned to the layer. If not specified, the name field of the metadata table stored in the MBTiles file will be used. Make sure to define it in case the MBTiles metadata is missing it.</p></li>
<li><p><cite>metaInformation</cite> with <cite>title</cite> and <cite>description</cite> are optional tags. They will be exposed in the capabilities document when available.</p></li>
</ul>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="../gwc-distributed/index.html" title="previous chapter">GWC Distributed Caching community module</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="../gwc-sqlite/index.html" title="next chapter">GWC SQLite Plugin</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">GWC MBTiles layer plugin</a><ul>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#configuring-a-mbtileslayer">Configuring a MBTilesLayer</a></li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="../gwc-distributed/index.html" title="previous chapter">GWC Distributed Caching community module</a></li>
            <li>Next: <a href="../gwc-sqlite/index.html" title="next chapter">GWC SQLite Plugin</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/community/gwc-mbtiles/index.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>