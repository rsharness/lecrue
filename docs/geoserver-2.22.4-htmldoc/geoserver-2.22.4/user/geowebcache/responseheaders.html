
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HTTP Response Headers &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/default.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="GeoWebCache REST API" href="rest/index.html" />
    <link rel="prev" title="Seeding and refreshing" href="seeding.html" /> 
  </head><body class="geowebcache/responseheaders">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">GeoWebCache</a> &raquo;</li>
    <li>HTTP Response Headers</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="rest/index.html" title="GeoWebCache REST API" accesskey="N">Next</a></li>
  <li>
    <a href="seeding.html" title="Seeding and refreshing" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="http-response-headers">
<span id="gwc-responseheaders"></span><h1>HTTP Response Headers<a class="headerlink" href="#http-response-headers" title="Permalink to this headline">¶</a></h1>
<p>The GeoWebCache integrated with GeoServer employs special information stored in the header of responses.  These headers are available either with direct calls to the <a class="reference internal" href="using.html#gwc-endpoint"><span class="std std-ref">GeoWebCache endpoint</span></a> or with <a class="reference internal" href="using.html#gwc-directwms"><span class="std std-ref">direct WMS integration</span></a>.</p>
<div class="section" id="custom-response-headers">
<h2>Custom response headers<a class="headerlink" href="#custom-response-headers" title="Permalink to this headline">¶</a></h2>
<p>GeoWebCache returns both standard and custom HTTP response headers when serving a tile request.  This aids in the debugging process, as well as adhering to an HTTP 1.1 transfer control mechanism.</p>
<p>The response headers can be determined via a utility such as <a class="reference external" href="http://curl.haxx.se">cURL</a>.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>For all cURL commands below, make sure to replace <code class="docutils literal notranslate"><span class="pre">&gt;/dev/null</span></code> with <code class="docutils literal notranslate"><span class="pre">&gt;nul</span></code> if you are running on Windows.</p>
</div>
<p>This is a sample request and response using cURL:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl -v &quot;http://localhost:8080/geoserver/gwc/service/wms?LAYERS=sde%3Abmworld&amp;FORMAT=image%2Fpng&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;SRS=EPSG%3A4326&amp;BBOX=-180,-38,-52,90&amp;WIDTH=256&amp;HEIGHT=256&amp;tiled=true&quot; &gt; /dev/null</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">tile</span><span class="o">-</span><span class="n">index</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">cache</span><span class="o">-</span><span class="n">result</span><span class="p">:</span> <span class="n">HIT</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">tile</span><span class="o">-</span><span class="n">index</span><span class="p">:</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">tile</span><span class="o">-</span><span class="n">bounds</span><span class="p">:</span> <span class="o">-</span><span class="mf">180.0</span><span class="p">,</span><span class="o">-</span><span class="mf">38.0</span><span class="p">,</span><span class="o">-</span><span class="mf">52.0</span><span class="p">,</span><span class="mf">90.0</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">gridset</span><span class="p">:</span> <span class="n">GlobalCRS84Pixel</span>
<span class="o">&lt;</span> <span class="n">geowebcache</span><span class="o">-</span><span class="n">crs</span><span class="p">:</span> <span class="n">EPSG</span><span class="p">:</span><span class="mi">4326</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">image</span><span class="o">/</span><span class="n">png</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="p">:</span> <span class="mi">102860</span>
<span class="o">&lt;</span> <span class="n">Server</span><span class="p">:</span> <span class="n">Jetty</span><span class="p">(</span><span class="mf">6.1</span><span class="o">.</span><span class="mi">8</span><span class="p">)</span>
</pre></div>
</div>
<p>From this, one can learn that the tile was found in the cache (<code class="docutils literal notranslate"><span class="pre">HIT</span></code>), the requested tile was from the gridset called <code class="docutils literal notranslate"><span class="pre">GlobalCRS84Pixel</span></code> and had a CRS of <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>.</p>
</div>
<div class="section" id="list-of-custom-response-headers">
<h3>List of custom response headers<a class="headerlink" href="#list-of-custom-response-headers" title="Permalink to this headline">¶</a></h3>
<p>The following is the full list of custom response headers.  Whenever GeoWebCache serves a tile request, it will write some or all of the following custom headers on the HTTP response.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Response Header</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">geowebcache-cache-result</span></code></p></td>
<td><p>Shows whether the GeoWebCache WMS was used.  Options are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">HIT</span></code>: Tile requested was found on the cache</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">MISS</span></code>: Tile was not found on the cache but was acquired from the layer’s data source</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">WMS</span></code>: Request was proxied directly to the origin WMS (for example, for GetFeatureInfo requests)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">OTHER</span></code>: Response was the default white/transparent tile or an error occurred</p></li>
</ul>
</td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">geowebcache-tile-index</span></code></p></td>
<td><p>Contains the three-dimensional tile index in x,y,z order of the returned tile image in the corresponding grid space (e.g. <code class="docutils literal notranslate"><span class="pre">[1,</span> <span class="pre">0,</span> <span class="pre">0]</span></code>)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">geowebcache-tile-bounds</span></code></p></td>
<td><p>Bounds of the returned tile in the corresponding coordinate reference system (e.g. <code class="docutils literal notranslate"><span class="pre">-180,-90,0,90</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">geowebcache-gridset</span></code></p></td>
<td><p>Name of the gridset the tile belongs to (see <a class="reference internal" href="webadmin/gridsets.html#gwc-webadmin-gridsets"><span class="std std-ref">Gridsets</span></a> for more information)</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">geowebcache-crs</span></code></p></td>
<td><p>Coordinate reference system code of the matching gridset (e.g. <code class="docutils literal notranslate"><span class="pre">EPSG:900913</span></code>, <code class="docutils literal notranslate"><span class="pre">EPSG:4326</span></code>, etc).</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="last-modified-and-if-modified-since">
<span id="gwc-lastmodifiedheaders"></span><h2>Last-Modified and If-Modified-Since<a class="headerlink" href="#last-modified-and-if-modified-since" title="Permalink to this headline">¶</a></h2>
<p>Well behaved HTTP 1.1 clients and server applications can make use of <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> and <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> HTTP control mechanisms to know when locally cached content is up to date, eliminating the need to download the same content again. This can result in considerable bandwidth savings.  (See HTTP 1.1 <a class="reference external" href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html">RFC 2616</a>, sections 14.29 and 14.25, for more information on these mechanisms.)</p>
<p>GeoWebCache will write a <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> HTTP response header when serving a tile image.  The date is written as an RFC-1123 <code class="docutils literal notranslate"><span class="pre">HTTP-Date</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Last</span><span class="o">-</span><span class="n">Modified</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">15</span> <span class="n">Nov</span> <span class="mi">1995</span> <span class="mi">04</span><span class="p">:</span><span class="mi">58</span><span class="p">:</span><span class="mi">08</span> <span class="n">GMT</span>
</pre></div>
</div>
<p>Clients connecting to GeoWebCache can create a “conditional GET” request with the <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> request header.  If the tile wasn’t modified after the date specified in the <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> response header, GeoWebCache will return a <code class="docutils literal notranslate"><span class="pre">304</span></code> status code indicating that the resource was available and not modified.</p>
<div class="section" id="id1">
<h3>Example<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>A query for a specific tile returns the <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code> response header:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl -v &quot;http://localhost:8080/geoserver/gwc/service/wms?LAYERS=img%20states&amp;FORMAT=image%2Fpng&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;EXCEPTIONS=application%2Fvnd.ogc.se_inimage&amp;SRS=EPSG%3A4326&amp;BBOX=-135,45,-90,90&amp;WIDTH=256&amp;HEIGHT=256&quot; &gt;/dev/null</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">Host</span><span class="p">:</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span>
<span class="o">&gt;</span> <span class="n">Accept</span><span class="p">:</span> <span class="o">*/*</span>
<span class="o">&gt;</span>
<span class="o">&lt;</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="o">...</span>
<span class="o">&lt;</span> <span class="n">Last</span><span class="o">-</span><span class="n">Modified</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">25</span> <span class="n">Jul</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span> <span class="n">GMT</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">image</span><span class="o">/</span><span class="n">png</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="p">:</span> <span class="mi">31192</span>
</pre></div>
</div>
<p>This request has the <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> header set to one second after what was returned by <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl --header &quot;If-Modified-Since: Wed, 25 Jul 2012 00:42:01 GMT&quot; -v &quot;http://localhost:8080/geoserver/gwc/service/wms?LAYERS=img%20states&amp;FORMAT=image%2Fpng&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;EXCEPTIONS=application%2Fvnd.ogc.se_inimage&amp;SRS=EPSG%3A4326&amp;BBOX=-135,45,-90,90&amp;WIDTH=256&amp;HEIGHT=256&quot; &gt;/dev/null</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">Host</span><span class="p">:</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span>
<span class="o">&gt;</span> <span class="n">Accept</span><span class="p">:</span> <span class="o">*/*</span>
<span class="o">&gt;</span> <span class="n">If</span><span class="o">-</span><span class="n">Modified</span><span class="o">-</span><span class="n">Since</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">25</span> <span class="n">Jul</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">01</span> <span class="n">GMT</span>
<span class="o">&gt;</span>
<span class="o">&lt;</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">304</span> <span class="n">Not</span> <span class="n">Modified</span>
<span class="o">&lt;</span> <span class="n">Last</span><span class="o">-</span><span class="n">Modified</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">25</span> <span class="n">Jul</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span> <span class="n">GMT</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">image</span><span class="o">/</span><span class="n">png</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="p">:</span> <span class="mi">31192</span>
</pre></div>
</div>
<p>The response code is <code class="docutils literal notranslate"><span class="pre">304</span></code>. As the file hasn’t been modified since the time specified in the request, no content is actually transferred.  The client is informed that its copy of the tile is up to date.</p>
<p>However, if you were to set the <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> header to <em>before</em> the time stored in <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>, you will instead receive a <code class="docutils literal notranslate"><span class="pre">200</span></code> status code and the tile will be downloaded.</p>
<p>This example sets the <code class="docutils literal notranslate"><span class="pre">If-Modified-Since</span></code> header to one second before what was returned by <code class="docutils literal notranslate"><span class="pre">Last-Modified</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">curl --header &quot;If-Modified-Since: Wed, 25 Jul 2012 00:41:59 GMT&quot; -v &quot;http://localhost:8080/geoserver/gwc/service/wms?LAYERS=img%20states&amp;FORMAT=image%2Fpng&amp;SERVICE=WMS&amp;VERSION=1.1.1&amp;REQUEST=GetMap&amp;STYLES=&amp;EXCEPTIONS=application%2Fvnd.ogc.se_inimage&amp;SRS=EPSG%3A4326&amp;BBOX=-135,45,-90,90&amp;WIDTH=256&amp;HEIGHT=256&quot; &gt;/dev/null</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">Host</span><span class="p">:</span> <span class="n">localhost</span><span class="p">:</span><span class="mi">8080</span>
<span class="o">&gt;</span> <span class="n">Accept</span><span class="p">:</span> <span class="o">*/*</span>
<span class="o">&gt;</span> <span class="n">If</span><span class="o">-</span><span class="n">Modified</span><span class="o">-</span><span class="n">Since</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">25</span> <span class="n">Jul</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">41</span><span class="p">:</span><span class="mi">59</span> <span class="n">GMT</span>
<span class="o">&gt;</span>
<span class="o">&lt;</span> <span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span> <span class="mi">200</span> <span class="n">OK</span>
<span class="o">...</span>
<span class="o">&lt;</span> <span class="n">Last</span><span class="o">-</span><span class="n">Modified</span><span class="p">:</span> <span class="n">Wed</span><span class="p">,</span> <span class="mi">25</span> <span class="n">Jul</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">42</span><span class="p">:</span><span class="mi">00</span> <span class="n">GMT</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Type</span><span class="p">:</span> <span class="n">image</span><span class="o">/</span><span class="n">png</span>
<span class="o">&lt;</span> <span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="p">:</span> <span class="mi">31192</span>
</pre></div>
</div>
</div>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="seeding.html" title="previous chapter">Seeding and refreshing</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="rest/index.html" title="next chapter">GeoWebCache REST API</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">HTTP Response Headers</a><ul>
<li><a class="reference internal" href="#custom-response-headers">Custom response headers</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#list-of-custom-response-headers">List of custom response headers</a></li>
</ul>
</li>
<li><a class="reference internal" href="#last-modified-and-if-modified-since">Last-Modified and If-Modified-Since</a><ul>
<li><a class="reference internal" href="#id1">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="seeding.html" title="previous chapter">Seeding and refreshing</a></li>
            <li>Next: <a href="rest/index.html" title="next chapter">GeoWebCache REST API</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/geowebcache/responseheaders.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>