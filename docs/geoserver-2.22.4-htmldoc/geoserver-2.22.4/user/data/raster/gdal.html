
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GDAL Image Formats &#8212; GeoServer 2.22.4 User Manual</title>
    <link rel="stylesheet" href="../../_static/blueprint/screen.css" type="text/css" media="screen, projection" />
    <link rel="stylesheet" href="../../_static/blueprint/print.css" type="text/css" media="print" /> 
    <!--[if IE]>
    <link rel="stylesheet" href="../../_static/blueprint/ie.css" type="text/css" media="screen, projection" />
    <![endif]-->
    
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <link rel="shortcut icon" href="../../_static/geoserver.ico"/>
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="ImagePyramid" href="imagepyramid.html" />
    <link rel="prev" title="ArcGrid" href="arcgrid.html" /> 
  </head><body class="data/raster/gdal">
<div id="header" class="selfclear">
    <div class="wrap selfclear">
        <div id="logo"><a href="http://geoserver.org">GeoServer</a></div>
        <ul id="top-nav">
            <li class="first"><a href="http://geoserver.org/about/">About</a></li>
            <li><a href="http://geoserver.org/blog">Blog</a></li>
            <li><a href="http://geoserver.org/download/">Download</a></li>
            <li><a href="https://docs.geoserver.org/">Documentation</a></li>
        </ul>

        <form id="quick-search" action="../../search.html" method="get">
            <fieldset>
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
                <input id="quick-search-query" type="text" name="q" accessKey="q" name="searchQuery.queryString" size="25" size="20" tabindex="3" placeholder="Search User Manual&hellip;" />
                <input id="quick-search-submit" type="image" value="Search" src="../../_static/chrome/search_icon_green.png" />
            </fieldset>
        </form>
    </div><!-- /.wrap -->
</div><!-- /#header -->
    <div id="main">
      <div class="wrap selfclear">
        <div id="content-left" class="content-border"></div>
        <div id="content">
        
<ul id="breadcrumbs">
  
    <li><a href="../../index.html">GeoServer 2.22.4 User Manual</a> &raquo;</li>
        <li><a href="../index.html" accesskey="U">Data management</a> &raquo;</li>
        <li><a href="index.html" accesskey="U">Raster data</a> &raquo;</li>
    <li>GDAL Image Formats</li>
</ul>
        
<ul id="relatedlinks" class="selfclear">
  <li class="first"><a href="imagepyramid.html" title="ImagePyramid" accesskey="N">Next</a></li>
  <li>
    <a href="arcgrid.html" title="ArcGrid" accesskey="P">Previous</a>|
  </li>
</ul>
          
  <div class="section" id="gdal-image-formats">
<span id="data-gdal"></span><h1>GDAL Image Formats<a class="headerlink" href="#gdal-image-formats" title="Permalink to this headline">¶</a></h1>
<p>GeoServer can leverage the <a class="reference external" href="https://github.com/geosolutions-it/imageio-ext/wiki">ImageI/O-Ext</a> GDAL libraries to read selected coverage formats. <a class="reference external" href="http://www.gdal.org">GDAL</a> is able to read many formats, but for the moment GeoServer supports only a few general interest formats and those that can be legally redistributed and operated in an open source server.</p>
<p>The following image formats can be read by GeoServer using GDAL:</p>
<ul class="simple">
<li><p>DTED, Military Elevation Data (.dt0, .dt1, .dt2): <a class="reference external" href="http://www.gdal.org/frmt_dted.html">http://www.gdal.org/frmt_dted.html</a></p></li>
<li><p>EHdr, ESRI .hdr Labelled: &lt;<a class="reference external" href="http://www.gdal.org/frmt_various.html#EHdr">http://www.gdal.org/frmt_various.html#EHdr</a>&gt;</p></li>
<li><p>ENVI, ENVI .hdr Labelled Raster: &lt;<a class="reference external" href="http://www.gdal.org/frmt_various.html#ENVI">http://www.gdal.org/frmt_various.html#ENVI</a>&gt;</p></li>
<li><p>HFA, Erdas Imagine (.img): &lt;<a class="reference external" href="http://www.gdal.org/frmt_hfa.html">http://www.gdal.org/frmt_hfa.html</a>&gt;</p></li>
<li><p>JP2MrSID, JPEG2000 (.jp2, .j2k): &lt;<a class="reference external" href="http://www.gdal.org/frmt_jp2mrsid.html">http://www.gdal.org/frmt_jp2mrsid.html</a>&gt;</p></li>
<li><p>MrSID, Multi-resolution Seamless Image Database: &lt;<a class="reference external" href="http://www.gdal.org/frmt_mrsid.html">http://www.gdal.org/frmt_mrsid.html</a>&gt;</p></li>
<li><p>NITF: &lt;<a class="reference external" href="http://www.gdal.org/frmt_nitf.html">http://www.gdal.org/frmt_nitf.html</a>&gt;</p></li>
<li><p>ECW, ERDAS Compressed Wavelets (.ecw): &lt;<a class="reference external" href="http://www.gdal.org/frmt_ecw.html">http://www.gdal.org/frmt_ecw.html</a>&gt;</p></li>
<li><p>JP2ECW, JPEG2000 (.jp2, .j2k): <a class="reference external" href="http://www.gdal.org/frmt_jp2ecw.html">http://www.gdal.org/frmt_jp2ecw.html</a></p></li>
<li><p>AIG, Arc/Info Binary Grid: &lt;<a class="reference external" href="http://www.gdal.org/frmt_various.html#AIG">http://www.gdal.org/frmt_various.html#AIG</a>&gt;</p></li>
<li><p>JP2KAK, JPEG2000 (.jp2, .j2k): &lt;<a class="reference external" href="http://www.gdal.org/frmt_jp2kak.html">http://www.gdal.org/frmt_jp2kak.html</a>&gt;</p></li>
</ul>
<div class="section" id="installing-gdal-extension">
<h2>Installing GDAL extension<a class="headerlink" href="#installing-gdal-extension" title="Permalink to this headline">¶</a></h2>
<p>From GeoServer version 2.2.x, GDAL must be installed as an extension. To install it:</p>
<ol class="arabic">
<li><p>Visit the <a class="reference external" href="http://geoserver.org/download">website download</a> page, locate your release, and download: <a class="reference external" href="http://sourceforge.net/projects/geoserver/files/GeoServer/2.22.4/extensions/geoserver-2.22.4-gdal-plugin.zip">geoserver-2.22.4-gdal-plugin.zip</a></p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Ensure to match plugin (example 2.22.4 above) version to the version of the GeoServer instance.</p>
</div>
</li>
</ol>
<ul class="simple">
<li><p>The download link for <span class="guilabel">GDAL</span> will be in the <span class="guilabel">Extensions</span> section under <span class="guilabel">Coverage Format</span>.</p></li>
</ul>
<div class="figure align-center">
<img alt="../../_images/downloadextension.png" src="../../_images/downloadextension.png" />
</div>
<ul class="simple">
<li><p>Extract the files in this archive to the <code class="file docutils literal notranslate"><span class="pre">WEB-INF/lib</span></code> directory of your GeoServer installation. On Windows You may be prompted for confirmation to overwrite existing files, confirm the replacement of the files</p></li>
</ul>
<div class="figure align-center">
<img alt="../../_images/overwrite.png" src="../../_images/overwrite.png" />
</div>
<p>Moreover, in order for GeoServer to leverage these libraries, the GDAL (binary) libraries must be installed through your host system’s OS.  Once they are installed, GeoServer will be able to recognize GDAL data types. See below for more information.</p>
<div class="section" id="installing-gdal-native-libraries">
<h3>Installing GDAL native libraries<a class="headerlink" href="#installing-gdal-native-libraries" title="Permalink to this headline">¶</a></h3>
<p>Starting with GeoServer 2.21.x the imageio-ext plugin is tested with GDAL version 3.x (tested in particular with 3.2.x and 3.4.x).</p>
<p>The imageio-ext plugin is tested with the GDAL 3.2 SWIG bindings, included in the extension download as <code class="file docutils literal notranslate"><span class="pre">gdal-3.2.0.jar</span></code>.</p>
<div class="section" id="in-case-of-version-mismatch">
<h4>In case of version mismatch<a class="headerlink" href="#in-case-of-version-mismatch" title="Permalink to this headline">¶</a></h4>
<p>We recommend matching the version <code class="file docutils literal notranslate"><span class="pre">gdal</span></code> jar to the version of gdal available in your environment:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">gdalinfo --version</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">GDAL</span> <span class="mf">3.4</span><span class="o">.</span><span class="mi">1</span><span class="p">,</span> <span class="n">released</span> <span class="mi">2021</span><span class="o">/</span><span class="mi">12</span><span class="o">/</span><span class="mi">27</span>
</pre></div>
</div>
<p>If you are using a version of GDAL that does not match the one expected by GeoServer, you can go and replace the <code class="file docutils literal notranslate"><span class="pre">gdal-3.2.0.jar</span></code> file with the equivalent java binding jar (typically named either <code class="file docutils literal notranslate"><span class="pre">gdal-&lt;version&gt;.jar</span></code>) included with your GDAL version:</p>
<ul class="simple">
<li><p>If your GDAL version does not include a bindings jar, it was probably not compiled with the java bindings and will not work with GeoServer.</p></li>
<li><p>You may also search for the correct <code class="file docutils literal notranslate"><span class="pre">gdal</span></code> jar here: <a class="reference external" href="https://search.maven.org/artifact/org.gdal/gdal">https://search.maven.org/artifact/org.gdal/gdal</a></p></li>
</ul>
</div>
<div class="section" id="windows-packages-and-setup">
<h4>Windows packages and setup<a class="headerlink" href="#windows-packages-and-setup" title="Permalink to this headline">¶</a></h4>
<p>For Windows, <a class="reference external" href="http://www.gisinternals.com/release.php">gisinternals.com</a> provides complete packages,
with Java bindings support, in the <code class="docutils literal notranslate"><span class="pre">release-&lt;version&gt;-GDAL-&lt;version&gt;-mapserver-&lt;version&gt;.zip</span></code> packages (the GDAL binary downloads at the time of writing do not include Java support).</p>
<p>Unpack the <code class="file docutils literal notranslate"><span class="pre">zip</span></code> file in a suitable location, and then set the following variables before starting up GeoServer:</p>
<div class="highlight-bat notranslate"><div class="highlight"><pre><span></span><span class="k">set</span> <span class="nv">PATH</span><span class="p">=</span><span class="nv">%PATH%</span>;C:\<span class="p">&lt;</span>unzipped_package<span class="p">&gt;</span>\bin;C:\<span class="p">&lt;</span>unzipped_package<span class="p">&gt;</span>\bin\gdal\java
<span class="k">set</span> <span class="nv">GDAL_DRIVER_PATH</span><span class="p">=</span>C:\<span class="p">&lt;</span>unzipped_package<span class="p">&gt;</span>\bin\gdal\plugins
<span class="k">set</span> <span class="nv">GDAL_DATA</span><span class="p">=</span>C:\<span class="p">&lt;</span>unzipped_package<span class="p">&gt;</span>\bin\gdal-data
</pre></div>
</div>
<p>There are a few optional drivers that you can find in file:<cite>C:&lt;unzipped_package&gt;bingdalplugins-extra</cite>
and <code class="file docutils literal notranslate"><span class="pre">C:&lt;unzipped_package&gt;bingdalplugins-optional</span></code>. Include these paths in <code class="docutils literal notranslate"><span class="pre">`GDAL_DRIVER_PATH</span></code> enables the additional formats.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Before adding the extra formats please make sure that you are within your rights
to use them in a server environment (some packages are specifically forbidden from
free usage on the server side and require a commercial licence, e.g., ECW).</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Depending on the version of the underlying operating system you will have to pick up the right one. You can google around for the one you need. Also make sure you download the 32 bit
version if you are using a 32 bit version of Windows or the 64 bit version (has a “-x64” suffix in the name of the zip file) if you are running a 64 bit version of Windows.
Again, pick the one that matches your infrastructure.</p>
</div>
</div>
<div class="section" id="note-on-running-geoserver-as-a-service-on-windows">
<h4>Note on running GeoServer as a Service on Windows<a class="headerlink" href="#note-on-running-geoserver-as-a-service-on-windows" title="Permalink to this headline">¶</a></h4>
<p>Deploying the GDAL ImageI/O-Ext native libraries in a location referred by the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable (like, as an instance, the JDK/bin folder) will not allow the GeoServer service to use GDAL. As a result, during the service startup, GeoServer log will likely report the following message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">it</span><span class="o">.</span><span class="n">geosolutions</span><span class="o">.</span><span class="n">imageio</span><span class="o">.</span><span class="n">gdalframework</span><span class="o">.</span><span class="n">GDALUtilities</span> <span class="n">loadGDAL</span>
<span class="n">WARNING</span><span class="p">:</span> <span class="n">Native</span> <span class="n">library</span> <span class="n">load</span> <span class="n">failed</span><span class="o">.</span><span class="n">java</span><span class="o">.</span><span class="n">lang</span><span class="o">.</span><span class="n">UnsatisfiedLinkError</span><span class="p">:</span> <span class="n">no</span> <span class="n">gdaljni</span> <span class="ow">in</span> <span class="n">java</span><span class="o">.</span><span class="n">library</span><span class="o">.</span><span class="n">path</span>
</pre></div>
</div>
<p>Taking a look at the <code class="docutils literal notranslate"><span class="pre">jsl74.ini</span></code> configuration file available inside the GeoServer installation , there is this useful entry:</p>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="c1">;The java command line</span>
<span class="c1">;The entry method below using a parameter list still works but the command line variant is more convenient.</span>
<span class="c1">;Everything separated by whitespace on a java command line is broken down into a parameter here.</span>
<span class="c1">;You don&#39;t need to care about quotes</span>
<span class="c1">;around strings containing spaces here. e.g.</span>
<span class="na">cmdline</span> <span class="o">=</span> <span class="s">-cp &quot;..\src&quot; com.roeschter.jsl.TelnetEcho</span>
</pre></div>
</div>
<p>To allow the GDAL native DLLs to be loaded:</p>
<ol class="arabic simple">
<li><p>Edit the  command line to include <code class="docutils literal notranslate"><span class="pre">-Djava.library.path</span></code> with the location of your GDAL libraries.</p></li>
</ol>
</div>
<div class="section" id="linux-packages-and-setup">
<h4>Linux packages and setup<a class="headerlink" href="#linux-packages-and-setup" title="Permalink to this headline">¶</a></h4>
<p>For common LTS Linux distribution there are packages for GDAL and the associated Java bindings,
e.g., on Ubuntu and derivatives you can install them using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">gdal</span><span class="o">-</span><span class="nb">bin</span> <span class="n">libgdal</span><span class="o">-</span><span class="n">java</span>
</pre></div>
</div>
<p>The libraries as installed above are already in the search path, so no extra setup is normally needed.
In case setting up the <code class="docutils literal notranslate"><span class="pre">GDAL_DATA</span></code> is required to handle certain projections, it’s normally found
in <code class="docutils literal notranslate"><span class="pre">/usr/share/gdal/&lt;version&gt;</span></code>, so you can execute the following prior to start GeoServer, e.g:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">GDAL_DATA</span><span class="o">=/</span><span class="n">usr</span><span class="o">/</span><span class="n">share</span><span class="o">/</span><span class="n">gdal</span><span class="o">/&lt;</span><span class="n">version</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In case you decide to build from sources instead, remember to run <code class="docutils literal notranslate"><span class="pre">configure</span></code> with <code class="docutils literal notranslate"><span class="pre">--with-java</span></code>,
and after the main build and install, get into the <code class="docutils literal notranslate"><span class="pre">swig/java</span></code> and run a build and install there.
For more information about building GDAL see:</p>
<ul class="simple">
<li><p><a class="reference external" href="https://trac.osgeo.org/gdal/wiki/BuildHints">General build information</a></p></li>
<li><p><a class="reference external" href="https://trac.osgeo.org/gdal/wiki/GdalOgrInJavaBuildInstructionsUnix">Specific info to build GDAL Java bindings</a></p></li>
</ul>
<p>After the build and installation, export the following variables to make GeoServer use the GDAL custom build:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">export</span> <span class="n">LD_LIBRARY_PATH</span><span class="o">=/&lt;</span><span class="n">path_to_gdal_install</span><span class="o">&gt;/</span><span class="n">lib</span>
<span class="n">export</span> <span class="n">GDAL_DATA</span><span class="o">=/&lt;</span><span class="n">path_to_gdal_install</span><span class="o">&gt;/</span><span class="n">share</span><span class="o">/</span><span class="n">gdal</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="testing-the-installation">
<h2>Testing the installation<a class="headerlink" href="#testing-the-installation" title="Permalink to this headline">¶</a></h2>
<p>Once these steps have been completed, restart GeoServer.</p>
<p>Navigate to <span class="menuselection">About &gt; Server Status</span> page, and change to the <span class="guilabel">Modules</span> tab, and click :guilabel:`` link for status information.</p>
<div class="figure align-default" id="id1">
<img alt="../../_images/gdal-extension-status.png" src="../../_images/gdal-extension-status.png" />
<p class="caption"><span class="caption-text">ImageI/O GDAL Coverage Extension Module Status</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>This information can be used to verify that the extension is active, the version of GDAL used, and the version of the SWIG bindings used.</p>
<p>If all the steps have been performed  correctly, new data formats will be in the <span class="guilabel">Raster Data Sources</span> list when creating a new data store in the <span class="guilabel">Stores</span> section as shown here below.</p>
<div class="figure align-center" id="id2">
<img alt="../../_images/newsource.png" src="../../_images/newsource.png" />
<p class="caption"><span class="caption-text"><em>GDAL image formats in the list of raster data stores</em></span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>If new formats do not appear in the GUI and you see the following message in the log file:</p>
<p><em>it.geosolutions.imageio.gdalframework.GDALUtilities loadGDAL
WARNING: Native library load failed.java.lang.UnsatisfiedLinkError: no gdaljni in java.library.path</em>
WARNING: Native library load failed.java.lang.UnsatisfiedLinkError: no gdalalljni in java.library.path*</p>
<p>This means that the extension was installed, bu twas not able to access your gdal library for some reason.</p>
</div>
<div class="section" id="configuring-a-dted-data-store">
<h2>Configuring a DTED data store<a class="headerlink" href="#configuring-a-dted-data-store" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id3">
<img alt="../../_images/gdaldtedconfigure.png" src="../../_images/gdaldtedconfigure.png" />
<p class="caption"><span class="caption-text"><em>Configuring a DTED data store</em></span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-a-ehdr-data-store">
<h2>Configuring a EHdr data store<a class="headerlink" href="#configuring-a-ehdr-data-store" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id4">
<img alt="../../_images/gdalehdrconfigure.png" src="../../_images/gdalehdrconfigure.png" />
<p class="caption"><span class="caption-text"><em>Configuring a EHdr data store</em></span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-a-erdasimg-data-store">
<h2>Configuring a ERDASImg data store<a class="headerlink" href="#configuring-a-erdasimg-data-store" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id5">
<img alt="../../_images/gdalerdasimgconfigure.png" src="../../_images/gdalerdasimgconfigure.png" />
<p class="caption"><span class="caption-text"><em>Configuring a ERDASImg data store</em></span><a class="headerlink" href="#id5" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-a-jp2mrsid-data-store">
<h2>Configuring a JP2MrSID data store<a class="headerlink" href="#configuring-a-jp2mrsid-data-store" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id6">
<img alt="../../_images/gdaljp2mrsidconfigure.png" src="../../_images/gdaljp2mrsidconfigure.png" />
<p class="caption"><span class="caption-text"><em>Configuring a JP2MrSID data store</em></span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="configuring-a-nitf-data-store">
<h2>Configuring a NITF data store<a class="headerlink" href="#configuring-a-nitf-data-store" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id7">
<img alt="../../_images/gdalnitfconfigure.png" src="../../_images/gdalnitfconfigure.png" />
<p class="caption"><span class="caption-text"><em>Configuring a NITF data store</em></span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="supporting-vector-footprints">
<h2>Supporting vector footprints<a class="headerlink" href="#supporting-vector-footprints" title="Permalink to this headline">¶</a></h2>
<p>Starting with version 2.9.0, GeoServer supports vector footprints.
A footprint is a shape used as a mask to hide those pixels that are outside of the mask, hence making that part of the parent image transparent.
The currently supported footprint formats are WKB, WKT and Shapefile.
By convention, the footprint file should be located in the same directory as the raster data that the footprint applies to.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>In the examples of this section and related subsections, we will always use .wkt as extension, representing a WKT footprint, although both .wkb and .shp are supported too.</p>
</div>
<p>For example, supposing you have a MrSID file located at
<code class="file docutils literal notranslate"><span class="pre">/mnt/storage/data/landsat/N-32-40_2000.sid</span></code>
to be masked, you just need to place a WKT file on the same folder, as
<code class="file docutils literal notranslate"><span class="pre">/mnt/storage/data/landsat/N-32-40_2000.wkt</span></code>
Note that the footprint needs to have same path and name of the original data file, with .wkt extension.</p>
<p>This is how the sample footprint geometry looks:</p>
<div class="figure align-center" id="id8">
<img alt="../../_images/masking.png" src="../../_images/masking.png" />
<p class="caption"><span class="caption-text"><em>A sample geometry stored as WKT, rendered on OpenJump</em></span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Once footprint file has been added, you need to change the FootprintBehavior parameter from None (the default value) to Transparent, from the layer configuration.</p>
<div class="figure align-center" id="id9">
<img alt="../../_images/footprintbehavior.png" src="../../_images/footprintbehavior.png" />
<p class="caption"><span class="caption-text"><em>Setting the FootprintBehavior parameter</em></span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<p>The next image depicts 2 layer previews for the same layer: the left one has no footprint, the right one has a footprint available and FootprintBehavior set to transparent.</p>
<div class="figure align-center" id="id10">
<img alt="../../_images/gdalmasks.png" src="../../_images/gdalmasks.png" />
<p class="caption"><span class="caption-text"><em>No Footprint VS FootprintBehavior = Transparent</em></span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<div class="section" id="external-footprints-data-directory">
<h3>External Footprints data directory<a class="headerlink" href="#external-footprints-data-directory" title="Permalink to this headline">¶</a></h3>
<p>As noted above, the footprint file should be placed in the same directory as the raster file. However in some cases this may not be possible. For example, the folder
containing the raster data may be read only.</p>
<p>As an alternative, footprint files can be located in a common directory, the <strong>footprints data directory</strong>. The subdirectories and file names under that directory must match
the original raster path and file names. The footprints data directory is specified as a Java System Property or an Environment Variable, by setting the <cite>FOOTPRINTS_DATA_DIR</cite>
property/variable to the directory to be used as base folder.</p>
<div class="section" id="example">
<h4>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h4>
<p>Suppose you have 3 raster files with the following paths:</p>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">/data/raster/charts/nitf/italy_2015.ntf</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/data/raster/satellite/ecw/orthofoto_2014.ecw</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/data/raster/satellite/landsat/mrsid/N-32-40_2000.sid</span></code></p></li>
</ul>
<p>They can be represented by this tree:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/data
 \---raster
     +---charts
     |   \---nitf
     |           italy_2015.ntf
     |
     \---satellite
         +---ecw
         |       orthofoto_2014.ecw
         |
         \---landsat
             \---mrsid
                     N-32-40_2000.sid
</pre></div>
</div>
<p>In order to support external footprints you should</p>
<ol class="arabic simple">
<li><p>Create a <code class="file docutils literal notranslate"><span class="pre">/footprints</span></code> (as an example) directory on disk</p></li>
<li><p>Set the <code class="file docutils literal notranslate"><span class="pre">FOOTPRINTS_DATA_DIR=/footprints</span></code> variable/property.</p></li>
<li><p>Replicate the rasters folder hierarchy inside the specified folder, using the full paths.</p></li>
<li><p>Put the 3 WKT files in the proper locations:</p></li>
</ol>
<ul class="simple">
<li><p><code class="file docutils literal notranslate"><span class="pre">/footprints/data/raster/charts/nitf/italy_2015.wkt</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/footprints/data/raster/satellite/ecw/orthofoto_2014.wkt</span></code></p></li>
<li><p><code class="file docutils literal notranslate"><span class="pre">/footprints/data/raster/satellite/landsat/mrsid/N-32-40_2000.wkt</span></code></p></li>
</ul>
<p>Which can be represented by this tree:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>/footprints
 \---data
     \---raster
         +---charts
         |   \---nitf
         |           italy_2015.wkt
         |
         \---satellite
             +---ecw
             |       orthofoto_2014.wkt
             |
             \---landsat
                 \---mrsid
                         N-32-40_2000.wkt
</pre></div>
</div>
<p>Such that, in the end, you will have the following folders hierarchy tree:</p>
<div class="highlight-text notranslate"><div class="highlight"><pre><span></span>+---data
|   \---raster
|       +---charts
|       |   \---nitf
|       |           italy_2015.ntf
|       |
|       \---satellite
|           +---ecw
|           |       orthofoto_2014.ecw
|           |
|           \---landsat
|               \---mrsid
|                       N-32-40_2000.sid
|
\---footprints
    \---data
        \---raster
            +---charts
            |   \---nitf
            |           italy_2015.wkt
            |
            \---satellite
                +---ecw
                |       orthofoto_2014.wkt
                |
                \---landsat
                    \---mrsid
                            N-32-40_2000.wkt
</pre></div>
</div>
<p>Note the parallel mirrored folder hierarchy, with the only differences being a <code class="file docutils literal notranslate"><span class="pre">/footprints</span></code> prefix at the beginning of the path,
and the change in suffix.</p>
</div>
</div>
</div>
</div>


        <div class="selfclear pagination-nav">
            <div class="leftwise"><strong>Previous</strong>: <a href="arcgrid.html" title="previous chapter">ArcGrid</a></div>
            <div class="rightwise"><strong>Next</strong>: <a href="imagepyramid.html" title="next chapter">ImagePyramid</a></div>
        </div>
        </div><!-- /#content> -->
        <div id="content-right" class="content-border"></div>
        
  <div id="sidebar" class="contrast">
      <div id="toc" class="section">
        <h3 class="pngfix"><a href="../../index.html">Table Of Contents</a></h3>
        <ul>
<li><a class="reference internal" href="#">GDAL Image Formats</a><ul>
<li><a class="reference internal" href="#installing-gdal-extension">Installing GDAL extension</a><ul>
<li><a class="reference internal" href="#installing-gdal-native-libraries">Installing GDAL native libraries</a><ul>
<li><a class="reference internal" href="#in-case-of-version-mismatch">In case of version mismatch</a></li>
<li><a class="reference internal" href="#windows-packages-and-setup">Windows packages and setup</a></li>
<li><a class="reference internal" href="#note-on-running-geoserver-as-a-service-on-windows">Note on running GeoServer as a Service on Windows</a></li>
<li><a class="reference internal" href="#linux-packages-and-setup">Linux packages and setup</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#testing-the-installation">Testing the installation</a></li>
<li><a class="reference internal" href="#configuring-a-dted-data-store">Configuring a DTED data store</a></li>
<li><a class="reference internal" href="#configuring-a-ehdr-data-store">Configuring a EHdr data store</a></li>
<li><a class="reference internal" href="#configuring-a-erdasimg-data-store">Configuring a ERDASImg data store</a></li>
<li><a class="reference internal" href="#configuring-a-jp2mrsid-data-store">Configuring a JP2MrSID data store</a></li>
<li><a class="reference internal" href="#configuring-a-nitf-data-store">Configuring a NITF data store</a></li>
<li><a class="reference internal" href="#supporting-vector-footprints">Supporting vector footprints</a><ul>
<li><a class="reference internal" href="#external-footprints-data-directory">External Footprints data directory</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        <div class="section-footer"></div>
      </div>
        <div class="section">
          <h3>Continue Reading</h3>
          <ul>
            <li>Previous: <a href="arcgrid.html" title="previous chapter">ArcGrid</a></li>
            <li>Next: <a href="imagepyramid.html" title="next chapter">ImagePyramid</a></li>
          </ul>
        </div>
        <div class="section">
        <h3>This Page</h3>
        <ul class="this-page-menu">
        
        <li><a href="https://github.com/geoserver/geoserver/tree/main/doc/en/user/source/data/raster/gdal.rst">Edit</a></li>
        </ul>
        </div>
      <div class="section">
        <h3>Known GeoServer issues</h3>
        <ul class="this-page-menu">
          <li><a href="https://osgeo-org.atlassian.net/projects/GEOS/summary">Jira issue tracker</a></li>
        </ul>
      </div>
  </div><!-- /#sidebar -->
    </div><!-- /.wrap> -->
  </div><!-- /#main -->
<div id="footer">
    <div class="wrap">
        &copy; Copyright 2023, Open Source Geospatial Foundation. License <a href="http://creativecommons.org/licenses/by/3.0/">Creative Commons Attribution</a>.
        Last updated on Jun 18, 2023.
        Created using <a href="http://www.sphinx-doc.org/">Sphinx</a>.
    </div><!-- /.wrap> -->
</div><!-- /#footer -->
  </body>
</html>